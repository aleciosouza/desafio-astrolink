(this["webpackJsonpesapiens-github"]=this["webpackJsonpesapiens-github"]||[]).push([[0],{20:function(e,t,a){e.exports=a(50)},25:function(e,t,a){},26:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(18),o=a.n(s),c=(a(25),a(8)),i=a(1),l=a(2),u=a(4),m=a(3),p=(a(26),a(6)),d=a.n(p),f=a(7),h=a(19),b=a.n(h),v=function(){function e(){Object(i.a)(this,e),this.http=b.a.create({baseURL:"https://api.github.com/",timeout:1e4,headers:{"Content-Type":"application/json"}})}return Object(l.a)(e,[{key:"getUser",value:function(e){return this.http.get("users/".concat(e))}},{key:"getReposByUser",value:function(e){return this.http.get("users/".concat(e,"/repos"))}}]),e}(),g=function(){function e(){Object(i.a)(this,e),this.repository=new v}return Object(l.a)(e,[{key:"getUser",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(d.a.mark((function e(r,n){var s,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.repository.getUser(t);case 3:return s=e.sent,o=s.data,e.next=7,a.getReposByUser(t);case 7:c=e.sent,r({user:{id:o.id,login:o.login,avatar_url:o.avatar_url,followers:o.followers,following:o.following,bio:o.bio,email:o.email},repos:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReposByUser",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(d.a.mark((function e(r,n){var s,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.repository.getReposByUser(t);case 3:s=e.sent,o=s.data,c=o.map((function(e){return{id:e.id,name:e.name,description:e.description,stargazers_count:e.stargazers_count,language:e.language,svn_url:e.svn_url}})).sort((function(e,t){return e.stargazers_count<t.stargazers_count?1:-1})),r(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"validateUsername",value:function(e){var t=null;return/^[a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38}$/i.test(e)||(t=e?e.length>39?"O nome de usu\xe1rio pode ter no m\xe1ximo 39 caracteres.":"-"===e[0]?"O nome de usu\xe1rio n\xe3o pode come\xe7ar com h\xedfem.":"O nome de usu\xe1rio n\xe3o pode conter caracteres especiais.":"Informe um usu\xe1rio"),t}}]),e}(),E=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).onChangeHandler=function(e){var t=e.target.value;r.setState({username:t})},r.onSubmitHandler=function(e){var t=r.state.username,a=r.service.validateUsername(t);a||r.props.onUserChanged(r.service.getUser(t)),r.setState({error:a}),e.preventDefault()},r.state={username:"",user:null,error:null},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.service=new g}},{key:"render",value:function(){var e=this.state.error;return n.a.createElement("div",{className:"form-container","data-testid":"form-container"},n.a.createElement("form",{onSubmit:this.onSubmitHandler},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{name:"userSearch",placeholder:"Usu\xe1rio",className:"form-input",minLength:"3",maxLength:"39","data-testid":"user-search-input",onChange:this.onChangeHandler}),n.a.createElement("button",{type:"submit",className:"mat-icon","data-testid":"user-search-bt",onClick:this.onSubmitHandler},"search")),e&&n.a.createElement("small",{className:"error","data-testid":"search-error"},e)))}}]),a}(n.a.Component),O=(a(45),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user,t=e.login,a=e.avatar_url,r=e.followers,s=e.following,o=e.bio,c=e.email,i="Foto de perfil do usu\xe1rio ".concat(t);return n.a.createElement("div",{className:"container profile-container"},a&&n.a.createElement("img",{src:a,alt:i,"data-testid":"user-img",className:"header-img elevation-z4"}),n.a.createElement("div",{className:"profile-header"},n.a.createElement("div",{className:"profile-user"},n.a.createElement("h1",null,t),c&&n.a.createElement("p",{"aria-label":"user-email"},c)),o&&n.a.createElement("p",{className:"profile-bio","aria-label":"user-bio"},o)),n.a.createElement("ul",{className:"profile-status"},n.a.createElement("li",null,n.a.createElement("b",null,"Seguidores")," ",n.a.createElement("span",{"aria-label":"user-followers"},r||0)),n.a.createElement("li",null,n.a.createElement("b",null,"Seguindo")," ",n.a.createElement("span",{"aria-label":"user-following"},s||0))))}}]),a}(n.a.Component)),j=(a(46),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.repo,t=e.name,a=e.description,r=e.stargazers_count,s=e.language,o=e.svn_url;return n.a.createElement("div",{className:"card card-repo elevation-z4","data-testid":"card-repo"},n.a.createElement("div",{className:"card-header repo-header"},n.a.createElement("h1",null,n.a.createElement("a",{href:o||"#",target:"_blank",rel:"noopener noreferrer","data-testid":"repo-url"},t,n.a.createElement("i",{className:"mat-icon"},"open_in_new"))),a&&n.a.createElement("p",{"aria-label":"repo-desc"},a)),n.a.createElement("div",{className:"card-body"},n.a.createElement("ul",{className:"repo-info"},n.a.createElement("li",{className:"repo-info-item"},n.a.createElement("i",{className:"mat-icon"},"star"),n.a.createElement("span",{"aria-label":"repo-stars"},r||0)),n.a.createElement("li",{className:"repo-info-item"},n.a.createElement("i",{className:"mat-icon"},"code"),n.a.createElement("span",{"aria-label":"repo-lang"},s||"N\xe3o informado")))))}}]),a}(n.a.Component)),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.repos,t=e&&e.map((function(e){return n.a.createElement(j,{key:e.id,repo:e})}));return n.a.createElement(n.a.Fragment,null,t)}}]),a}(n.a.Component),w=(a(47),a(48),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.text,r=e.onClickHandler;return n.a.createElement("button",{className:"btn btn-floating elevation-z8","data-testid":"btn-floating",onClick:r},t&&n.a.createElement("i",{className:"mat-icon","data-testid":"btn-floating-icon"},t),n.a.createElement("span",{"data-testid":"btn-floating-text"},a))}}]),a}(n.a.Component)),N=(a(49),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.repos,a=e.filter,r=e.changeOrdenationHandler;return n.a.createElement("div",{className:"container repo-list","data-testid":"list-controller"},n.a.createElement("div",{className:"repo-list-header"},n.a.createElement("h1",null,"Reposit\xf3rios"),t&&n.a.createElement(w,{icon:a.icon,text:a.text,onClickHandler:r})),t&&n.a.createElement(y,{repos:t}),!t&&n.a.createElement("p",{"data-testid":"no-repo"},"Nenhum Reposit\xf3rio"))}}]),a}(n.a.PureComponent)),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).onUserChanged=function(e){e.then((function(e){r.setState({user:e.user,repos:Object(c.a)(e.repos)})})).catch((function(e){r.setState({user:null,repos:null})}))},r.changeOrdenation=function(){var e=r.state,t=e.filter,a=e.repos,n="asc"===t.order?{order:"desc",icon:"arrow_upward",text:"Menos estrelas"}:{order:"asc",icon:"arrow_downward",text:"Mais estrelas"},s="asc"===n.order?Object(c.a)(a).sort((function(e,t){return e.stargazers_count<t.stargazers_count?1:-1})):Object(c.a)(a).sort((function(e,t){return e.stargazers_count>t.stargazers_count?1:-1}));r.setState({filter:n,repos:s})},r.state={user:null,repos:null,filter:{order:"asc",icon:"arrow_downward",text:"Mais estrelas"}},r}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.user,a=e.repos,r=e.filter;return n.a.createElement("div",{className:"container"},n.a.createElement("header",{className:"container navbar-search"},n.a.createElement(E,{onUserChanged:this.onUserChanged}),t&&n.a.createElement(O,{user:t})),n.a.createElement("main",{className:"container elevation-z8"},n.a.createElement(N,{repos:a,filter:r,changeOrdenationHandler:this.changeOrdenation})))}}]),a}(n.a.Component);o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.a6ce3f92.chunk.js.map